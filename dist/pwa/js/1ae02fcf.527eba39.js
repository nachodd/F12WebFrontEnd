(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["1ae02fcf"],{"0b27":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{attrs:{padding:""}},[i("page-header",{attrs:{title:"Priorizar Requerimientos","no-margin":""}},[e.hasReportantes?[i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("q-select",{attrs:{color:"accent",dense:"",standout:"",options:e.optionsUsersReportantes,"emit-value":"","map-options":""},on:{input:e.changeUsuarioVerComo},model:{value:e.usuarioVerComo,callback:function(t){e.usuarioVerComo=t},expression:"usuarioVerComo"}})],1)])]:e._e()],2),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("priorizar-requerimientos-filtros")],1)]),i("div",{staticClass:"row q-pt-md q-px-xs q-col-gutter-sm"},[i("div",{staticClass:"col-sm-6 col-xs-12"},[i("draggable-list",{attrs:{title:"Pendientes de Aprobación","group-name":"requerimientos","list-name":"source","requerimientos-list":e.requerimientosFiltered("PEND"),"loading-list":e.loadingReqsPendientesAprobacion}})],1),e.esElUltimoDeLaCadenaDeMando?e._e():i("div",{staticClass:"col-sm-6 col-xs-12"},[i("draggable-list",{attrs:{"requerimientos-list":e.requerimientosFiltered("APRV"),"loading-list":e.loadingReqsAprobadosPriorizados,title:"Aprobados","group-name":"requerimientos","list-name":"target"}})],1)]),i("dialog-confirm-operation"),i("dialog-detalle-requerimiento")],1)},o=[],s=i("ee6db"),n=s["a"],a=i("2877"),c=Object(a["a"])(n,r,o,!1,null,null,null);t["default"]=c.exports},4465:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"q-py-md"},[i("q-resize-observer",{on:{resize:e.onResize}}),i("div",{staticClass:"q-mb-sm"},[i("q-input",{ref:"inputDescripcion",staticClass:"filter",class:{popupOpened:e.popupOpened},attrs:{dense:"",standout:"bg-white text-black",placeholder:"Buscar por Asunto, Descripcion, Usuario Asignado..."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeFilters(t)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"search"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{staticClass:"filter__icon cursor-pointer",attrs:{name:e.iconOpenFilter},on:{click:function(t){e.popupOpened=!e.popupOpened}}})]},proxy:!0}]),model:{value:e.__descripcion,callback:function(t){e.__descripcion="string"===typeof t?t.trim():t},expression:"__descripcion"}}),i("q-menu",{attrs:{"no-parent-event":"","content-class":"q-menu-fix",offset:[0,-4]},model:{value:e.popupOpened,callback:function(t){e.popupOpened=t},expression:"popupOpened"}},[i("div",{staticClass:"q-pa-md",style:{width:e.widthInputDescripcion+"px"}},[i("div",{staticClass:"row q-pt-sm q-col-gutter-xs"},[i("div",{staticClass:"col-xs-3 col-sm-3 col-md-2 col-lg-1 text-body2 q-pt-md"},[e._v("\n            Sistema\n          ")]),i("div",{staticClass:"col-xs-9 col-sm-9 col-md-10 col-lg-11"},[i("select-custom",{attrs:{options:e.sistemasUsuarioOptions,dense:"",label:"Sistema",color:"deep-purple-10",loading:0===e.sistemas.length},model:{value:e.__sistema,callback:function(t){e.__sistema=t},expression:"__sistema"}})],1),i("div",{staticClass:"col-xs-3 col-sm-3 col-md-2 col-lg-1 text-body2 q-pt-md"},[e._v("\n            Tipo de Requerimiento\n          ")]),i("div",{staticClass:"col-xs-9 col-sm-9 col-md-10 col-lg-11"},[i("select-custom",{attrs:{options:e.requerimientosTipos,dense:"",label:"Tipo de Requerimiento",color:"deep-purple-10",loading:0===e.requerimientosTipos.length},model:{value:e.__tipo,callback:function(t){e.__tipo=t},expression:"__tipo"}})],1)]),i("div",{staticClass:"row q-pt-md justify-end q-col-gutter-x-md"},[i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{color:"deep-purple-10",flat:"",size:"md"},on:{click:e.clearFilters}},[e._v("\n              Limpiar Filtros\n            ")])],1),i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{color:"deep-purple-10",size:"md"},on:{click:e.closeFilters}},[e._v("\n              FILTRAR\n            ")])],1)])])])],1),i("div",{staticClass:"q-mt-sm"},[e.sistemaSetted||e.tipoRequerimientoSetted?i("span",[e._v("Filtros:")]):e._e(),e.sistemaSetted?i("span",{staticClass:"q-mx-xs"},[i("q-chip",{attrs:{removable:""},on:{remove:function(t){return e.removeFilter("sistema")}}},[i("q-avatar",{staticClass:"filter-label",attrs:{color:"red","text-color":"white"}},[e._v("\n          Sist:\n        ")]),e._v("\n        "+e._s(e.sistemaDescripcion)+"\n        "),i("q-tooltip",[e._v("Sistema")])],1)],1):e._e(),e.tipoRequerimientoSetted?i("span",{staticClass:"q-mx-xs"},[i("q-chip",{attrs:{removable:""},on:{remove:function(t){return e.removeFilter("requerimientoTipo")}}},[i("q-avatar",{staticClass:"filter-label",attrs:{color:"blue","text-color":"white"}},[e._v("\n          Tipo:\n        ")]),e._v("\n        "+e._s(e.tipoRequerimientoDescripcion)+"\n        "),i("q-tooltip",[e._v("Tipo de Requerimiento")])],1)],1):e._e(),e.usuariosAsignadosSetted?i("span",{staticClass:"q-mx-xs"},[i("q-chip",{attrs:{removable:""},on:{remove:function(t){return e.removeFilter("usuariosAsignados")}}},[i("q-avatar",{staticClass:"filter-label",attrs:{color:"green","text-color":"white"}},[e._v("\n          U.A.:\n        ")]),e._v("\n        "+e._s(e.usuariosAsignadosDescripcion)+"\n        "),i("q-tooltip",[e._v("Usuarios Asignados")])],1)],1):e._e()])],1)},o=[],s=i("9c8e"),n=s["a"],a=(i("b596"),i("2877")),c=Object(a["a"])(n,r,o,!1,null,null,null);t["a"]=c.exports},"4fb0":function(e,t,i){"use strict";var r=i("d8b8"),o=i.n(r);o.a},"7a3f":function(e,t,i){},"9c8c":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("list-requerimientos",{attrs:{"loading-list":e.loadingList,title:e.title}},[e.loadingList?e._e():i("Container",{attrs:{"group-name":e.groupName,"get-child-payload":e.getPayload,"drag-class":"card-ghost","drop-class":"card-ghost-drop","drop-placeholder":e.dropPlaceholderOptions},on:{drop:function(t){return e.onDrop(e.listName,t)}}},[e.listEmpty?[i("div",{staticClass:"text-h6 text-center"},[e._v("\n        No hay requerimientos\n        "),i("br"),e._v("\n        para mostrar!\n      ")])]:e._l(e.requerimientosList,function(t,r){return i("Draggable",{key:"req_"+t.id},[i("priorizar-requerimientos-item",{attrs:{req:t,index:r},nativeOn:{click:function(i){return e.abrirDetalleRequerimiento({reqId:t.id,listName:"priorizar-requerimientos"})}}})],1)})],2)],1)},o=[],s=i("b2cb"),n=i.n(s),a=i("2f62"),c=i("3f7d"),l=i("2fa3"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-item",{staticClass:"q-ma-sm shadow-2 rounded-borders-8 bg-white cursor-pointer card-row"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("q-item-label",{attrs:{lines:"1"}},[i("span",{staticClass:"text-weight-medium"},[e._v(e._s(e.req.asunto))])]),i("q-item-label",{staticStyle:{"margin-bottom":"auto"},attrs:{caption:"",lines:"2"}},[e._v("\n        "+e._s(e.req.descripcion)+"\n      ")])],1)]),i("div",{staticClass:"row justify-around"},[i("div",{staticClass:"text-left",class:{"col-6":!e.esArregloRapido,"col-12":e.esArregloRapido}},[i("q-badge",{class:{"nro-req--default":!e.esArregloRapido,"nro-req--qf":e.esArregloRapido}},[e._v("\n        #"+e._s(e.req.id)+"\n      ")]),e._v("\n       \n    ")],1),e.esArregloRapido?e._e():i("div",{staticClass:"col-6 text-right"},[i("q-badge",{style:{color:e.getColorPrioridadText(e.req.prioridad),backgroundColor:e.getColorPrioridad(e.req.prioridad)}},[e._v("\n        PR: "+e._s(e.req.prioridad)+"\n        "),i("q-tooltip",[e._v("\n          Prioridad:\n          "),i("strong",[e._v(e._s(e.req.prioridad))])])],1)],1)])])},p=[],d=i("ac67"),m=d["a"],f=(i("4fb0"),i("2877")),q=Object(f["a"])(m,u,p,!1,null,"578c7e1a",null),g=q.exports,h=i("fcd5"),v={name:"DraggableList",components:{ListRequerimientos:h["a"],PriorizarRequerimientosItem:g,Container:c["Container"],Draggable:c["Draggable"]},props:{title:{type:String,default:""},groupName:{type:String,required:!0},requerimientosList:{type:Array,required:!0},listName:{type:String,required:!0},loadingList:{type:Boolean,default:!0}},data:function(){return{dropPlaceholderOptions:{className:"drop-group",animationDuration:"150",showOnTop:!0}}},computed:{listEmpty:function(){return 0===this.requerimientosList.length}},methods:n()({},Object(a["b"])({abrirDetalleRequerimiento:"requerimientos/abrirDetalleRequerimiento"}),{getPayload:function(e){return this.requerimientosList[e]},onDrop:function(e,t){var i=Object(l["a"])(this.requerimientosList,t),r={listName:e,listResult:i,dropResult:t};this.$store.dispatch("priorizarRequerimientos/processUpdateList",r)}})},_=v,b=Object(f["a"])(_,r,o,!1,null,"a4786028",null);t["a"]=b.exports},"9c8e":function(e,t,i){"use strict";(function(e){i("20d6");var r=i("b2cb"),o=i.n(r),s=i("d2a2"),n=i("2f62");t["a"]={name:"PriorizarRequerimientosFiltros",components:{SelectCustom:s["a"]},props:{},data:function(){return{input:"",widthInputDescripcion:0,popupOpened:!1,usuariosAsignadosOptionsFiltered:null}},computed:o()({},Object(n["d"])("requerimientos",{areas:function(e){return e.options.areas},sistemas:function(e){return e.options.sistemas},requerimientosTipos:function(e){return e.options.requerimientosTipos}}),{},Object(n["c"])("auth",["userSistemas","userReportantes"]),{sistemasUsuarioOptions:function(){var t=this;return e.filter(this.sistemas,function(i){return-1!==e.findIndex(t.userSistemas,{id:i.id})})},__descripcion:{get:function(){return this.$store.state.priorizarRequerimientos.filtros.descripcion},set:function(e){this.$store.dispatch("priorizarRequerimientos/setFilter",{filter:"descripcion",value:e})}},__sistema:{get:function(){return this.$store.state.priorizarRequerimientos.filtros.sistema},set:function(e){this.$store.dispatch("priorizarRequerimientos/setFilter",{filter:"sistema",value:e})}},__tipo:{get:function(){return this.$store.state.priorizarRequerimientos.filtros.requerimientoTipo},set:function(e){this.$store.dispatch("priorizarRequerimientos/setFilter",{filter:"requerimientoTipo",value:e})}},__usuariosAsignados:{get:function(){return this.$store.state.asignacionRequerimientos.filtros.usuariosAsignados},set:function(e){this.$store.dispatch("asignacionRequerimientos/setFilter",{filter:"usuariosAsignados",value:e})}},iconOpenFilter:function(){return this.popupOpened?"arrow_drop_up":"arrow_drop_down"},sistemaDescripcion:function(){return e.get(this,"__sistema.descripcion",null)},sistemaSetted:function(){return this.__sistema&&Boolean(this.__sistema.id)},tipoRequerimientoDescripcion:function(){return e.get(this,"__tipo.descripcion",null)},tipoRequerimientoSetted:function(){return this.__tipo&&Boolean(this.__tipo.id)},usuariosAsignadosDescripcion:function(){return this.usuariosAsignadosSetted?this.__usuariosAsignados.map(function(e){return e.label}).join(", "):""},usuariosAsignadosSetted:function(){return this.__usuariosAsignados&&this.__usuariosAsignados.length>0}}),methods:{onResize:function(e){this.widthInputDescripcion=e.width},removeFilter:function(e){this.$store.dispatch("priorizarRequerimientos/setFilter",{filter:e,value:null})},clearFilters:function(){this.$store.dispatch("priorizarRequerimientos/clearFilters")},closeFilters:function(){this.popupOpened=!1},filterUsuariosAsignados:function(e,t){var i=this;t(""!==e?function(){var t=e.toLowerCase();i.usuariosAsignadosOptionsFiltered=i.userReportantes.filter(function(e){return e.label.toLowerCase().indexOf(t)>-1})}:function(){i.usuariosAsignadosOptionsFiltered=i.userReportantes})}}}}).call(this,i("2ef0"))},a5ba:function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-dialog",{attrs:{persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialogConfirmOpen,callback:function(t){e.dialogConfirmOpen=t},expression:"dialogConfirmOpen"}},[i("q-card",{staticClass:"bg-accent text-white"},[i("q-bar",[i("q-btn",{attrs:{dense:"",flat:"",icon:"fas fa-exclamation-triangle"}}),i("q-space"),i("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:e.cancelOperation}},[i("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[e._v("Cancelar")])],1)],1),i("q-card-section",[i("span",{staticClass:"text-h6"},[e._v("\n        Confirmación -\n        "),i("q-chip",{attrs:{dense:"",color:"accent-light","text-color":"white"}},[e._v("\n          Req #"+e._s(e.requerimientoIdToChange)+"\n        ")])],1)]),i("q-card-section",[e.operationApprove?i("p",[e._v("\n        Esta a punto de cambiar estado del requerimiento a\n        "),i("strong",[e._v("APROBADO.")])]):e.operationReject?i("p",[e._v("\n        Esta a punto de volver el estado del requerimiento a\n        "),i("strong",[e._v("PENDIENTE DE APROBACIÓN.")])]):e._e(),e._v("\n      ¿Desea confimar este cambio?\n    ")]),e.operationApprove?i("q-card-section",[i("q-input",{attrs:{color:"white",dark:"",outlined:"",type:"textarea",label:"Si desea, puede agregar un comentario: ","hide-bottom-space":!0},model:{value:e.approveComment,callback:function(t){e.approveComment=t},expression:"approveComment"}})],1):e._e(),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{label:"CANCELAR",flat:"",color:"red-7"},on:{click:e.cancelOperation}}),i("q-btn",{attrs:{label:"CONFIRMAR",color:"deep-purple-10"},on:{click:e.confirmOperation}})],1)],1)],1)},o=[],s=i("b2cb"),n=i.n(s),a=i("2f62"),c={name:"DialogConfirmOperation",data:function(){return{approveComment:""}},computed:n()({},Object(a["d"])("priorizarRequerimientos",{dialogConfirmOpenState:function(e){return e.dialogConfirmOpen}}),{},Object(a["c"])("priorizarRequerimientos",["requerimientoIdToChange","operationApprove","operationReject"]),{dialogConfirmOpen:{get:function(){return this.dialogConfirmOpenState},set:function(e){this.$store.dispatch("priorizarRequerimientos/setDialogConfirmOperationOpen",e)}}}),methods:{cancelOperation:function(){this.$store.dispatch("priorizarRequerimientos/clearOperations"),this.dialogConfirmOpen=!1},confirmOperation:function(){var e=this,t=this.operationReject?null:this.approveComment;this.$store.dispatch("priorizarRequerimientos/confirmOperation",t).then(function(){e.dialogConfirmOpen=!1,e.approveComment=""})}}},l=c,u=i("2877"),p=Object(u["a"])(l,r,o,!1,null,"fe72fcbe",null);t["a"]=p.exports},ac67:function(e,t,i){"use strict";(function(e){var r=i("b2cb"),o=i.n(r),s=(i("c5f6"),i("2f62")),n=i("dd8c");t["a"]={name:"PriorizarRequerimientosItem",mixins:[n["a"]],props:{req:{type:Object,required:!0},index:{type:Number,required:!0}},computed:o()({},Object(s["c"])("auth",["esElUltimoDeLaCadenaDeMando"]),{},Object(s["c"])("requerimientos",["getEstadoByCodigo"]),{esArregloRapido:function(){return 1===this.req.tipo.id},usuarioAsignado:function(){return e.get(this,"req.estado.asignacion.usuario_nombre","")},tieneComentario:function(){return this.req.comentario&&this.req.comentario.length>0}})}}).call(this,i("2ef0"))},b596:function(e,t,i){"use strict";var r=i("7a3f"),o=i.n(r);o.a},d8b8:function(e,t,i){},ee6db:function(e,t,i){"use strict";(function(e){var r=i("967e"),o=i.n(r),s=(i("96cf"),i("fa84")),n=i.n(s),a=i("4db1"),c=i.n(a),l=i("b2cb"),u=i.n(l),p=i("2f62"),d=i("1011"),m=i("1050"),f=i("9c8c"),q=i("a5ba"),g=i("cf9f"),h=i("4465");t["a"]={name:"PriorizarRequerimientos",components:{PageHeader:d["a"],DraggableList:f["a"],DialogConfirmOperation:q["a"],DialogDetalleRequerimiento:g["a"],PriorizarRequerimientosFiltros:h["a"]},mixins:[m["a"]],data:function(){return{usuarioVerComo:null}},computed:u()({},Object(p["c"])("priorizarRequerimientos",["requerimientosFiltered"]),{},Object(p["c"])("auth",["hasReportantes","userReportantes","esElUltimoDeLaCadenaDeMando"]),{},Object(p["d"])("priorizarRequerimientos",{loadingReqsPendientesAprobacion:function(e){return e.loadingReqsPendientesAprobacion},loadingReqsAprobadosPriorizados:function(e){return e.loadingReqsAprobadosPriorizados}}),{optionsUsersReportantes:function(){var t=null===this.usuarioVerComo?"Ver listado como...":"<strong>VOLVER A MI LISTADO</strong>";return[{label:t,value:null}].concat(c()(e.orderBy(this.userReportantes,"label")))}}),beforeCreate:function(){this.$store.dispatch("priorizarRequerimientos/flushRequerimientos")},created:function(){var e=n()(o.a.mark(function e(){return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$store.dispatch("requerimientos/createRequerimiento"),this.changeUsuarioVerComo(null);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{changeUsuarioVerComo:function(){var e=n()(o.a.mark(function e(t){return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("priorizarRequerimientos/flushRequerimientos");case 2:this.$store.dispatch("priorizarRequerimientos/inicializarPriorizarRequerimientos",{userId:t});case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}}}).call(this,i("2ef0"))}}]);