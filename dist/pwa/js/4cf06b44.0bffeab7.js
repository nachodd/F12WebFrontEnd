(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["4cf06b44"],{"0d76":function(e,t,i){"use strict";var s=i("e4fb"),n=i.n(s);n.a},3705:function(e,t,i){},3883:function(e,t,i){"use strict";(function(e){var s=i("b2cb"),n=i.n(s),r=(i("c5f6"),i("2f62")),o=i("dd8c"),a=i("0a59");t["a"]={name:"PriorizarRequerimientosItem",mixins:[o["a"]],props:{req:{type:Object,required:!0},index:{type:Number,required:!0}},computed:n()({},Object(r["c"])("auth",["userId"]),{esArregloRapido:function(){return 1===this.req.tipo.id},usuarioAsignado:function(){return e.get(this,"req.estado.asignacion.usuario_nombre","")},tieneComentario:function(){return this.req.comentario&&this.req.comentario.length>0},estaEnPausa:function(){return!0===this.req.estado.pausado},estaEnTesting:function(){var e=a["a"].getEstadoId("TEST");return this.req.estado.id===e},yoDeboTestearla:function(){return this.estaEnTesting&&Number(this.req.estado.asignacion_testing.usuario_id)===this.userId},usuarioTesting:function(){return this.req.estado.asignacion_testing.usuario_nombre}})}}).call(this,i("2ef0"))},"4ba6":function(e,t,i){},"74c4":function(e,t,i){"use strict";var s=i("3705"),n=i.n(s);n.a},"84b1":function(e,t,i){"use strict";var s=i("4ba6"),n=i.n(s);n.a},b635:function(e,t,i){"use strict";(function(e){i("20d6");var s=i("b2cb"),n=i.n(s),r=i("d2a2"),o=i("2f62");t["a"]={name:"MisRequerimientosMenuFiltros",components:{SelectCustom:r["a"]},props:{},data:function(){return{input:"",widthInputDescripcion:0,popupOpened:!1}},computed:n()({},Object(o["d"])("requerimientos",{areas:function(e){return e.options.areas},sistemas:function(e){return e.options.sistemas},requerimientosTipos:function(e){return e.options.requerimientosTipos}}),{},Object(o["c"])("auth",["userSistemas"]),{sistemasUsuarioOptions:function(){var t=this;return e.filter(this.sistemas,function(i){return-1!==e.findIndex(t.userSistemas,{id:i.id})})},__descripcion:{get:function(){return this.$store.state.requerimientosAsignados.filtros.descripcion},set:function(e){this.$store.dispatch("requerimientosAsignados/setFilter",{filter:"descripcion",value:e})}},__sistema:{get:function(){return this.$store.state.requerimientosAsignados.filtros.sistema},set:function(e){this.$store.dispatch("requerimientosAsignados/setFilter",{filter:"sistema",value:e})}},__tipo:{get:function(){return this.$store.state.requerimientosAsignados.filtros.requerimientoTipo},set:function(e){this.$store.dispatch("requerimientosAsignados/setFilter",{filter:"requerimientoTipo",value:e})}},iconOpenFilter:function(){return this.popupOpened?"arrow_drop_up":"arrow_drop_down"},sistemaDescripcion:function(){return e.get(this,"__sistema.descripcion",null)},sistemaSetted:function(){return this.__sistema&&Boolean(this.__sistema.id)},tipoRequerimientoDescripcion:function(){return e.get(this,"__tipo.descripcion",null)},tipoRequerimientoSetted:function(){return this.__tipo&&Boolean(this.__tipo.id)}}),methods:{onResize:function(e){this.widthInputDescripcion=e.width+60+30},removeFilter:function(e){this.$store.dispatch("requerimientosAsignados/setFilter",{filter:e,value:null})},clearFilters:function(){this.$store.dispatch("requerimientosAsignados/clearFilters")},closeFilters:function(){this.popupOpened=!1}}}}).call(this,i("2ef0"))},cd87:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{attrs:{padding:""}},[i("page-header",{attrs:{title:"Requerimientos Asignados","no-margin":""}},[i("div",[i("div",{staticClass:"d-ib cursor-pointer",on:{click:function(t){return e.aplicarFiltroRapidoTipoReq("Arreglo")}}},[i("div",{staticClass:"square d-ib bg-red-7"},[e._v(" ")]),e._v("\n        Arreglo Rápido    -   \n      ")]),i("div",{staticClass:"d-ib cursor-pointer",on:{click:function(t){return e.aplicarFiltroRapidoTipoReq("Desarrollo")}}},[i("div",{staticClass:"square d-ib bg-light-blue-7"},[e._v(" ")]),e._v("\n        Desarrollo / Mejora   \n      ")])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("requerimientos-asignados-filtros")],1)]),i("div",{staticClass:"row q-pt-md q-px-xs q-col-gutter-sm"},[i("div",{staticClass:"col-sm-4 col-xs-12"},[i("draggable-list",{attrs:{title:"Pendientes","group-name":"requerimientos","list-name":"source","requerimientos-list":e.requerimientosFiltered("ASSI"),"loading-list":e.loadingRequerimientos}})],1),i("div",{staticClass:"col-sm-4 col-xs-12"},[i("draggable-list",{attrs:{title:"En Ejecución","group-name":"requerimientos","list-name":"target","requerimientos-list":e.requerimientosFiltered("EXEC"),"loading-list":e.loadingRequerimientos}})],1),i("div",{staticClass:"col-sm-4 col-xs-12"},[i("draggable-list",{attrs:{title:"Testing","group-name":"requerimientos","list-name":"testing","requerimientos-list":e.requerimientosFiltered("TEST"),"loading-list":e.loadingRequerimientos}})],1)]),i("dialog-confirm-operation"),i("dialog-detalle-requerimiento")],1)},n=[],r=i("967e"),o=i.n(r),a=(i("96cf"),i("fa84")),l=i.n(a),c=i("b2cb"),u=i.n(c),d=i("2f62"),p=i("1011"),m=i("1050"),q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("list-requerimientos",{attrs:{"loading-list":e.loadingList,title:e.title}},[e.loadingList?e._e():i("Container",{attrs:{"group-name":e.groupName,"get-child-payload":e.getPayload,"drag-class":"card-ghost","drop-class":"card-ghost-drop","drop-placeholder":e.dropPlaceholderOptions},on:{drop:function(t){return e.onDrop(e.listName,t)}}},[e.listEmpty?[i("div",{staticClass:"text-h6 text-center"},[e._v("\n        No hay requerimientos\n        "),i("br"),e._v("\n        para mostrar!\n      ")])]:e._l(e.requerimientosList,function(t,s){return i("Draggable",{key:"req_"+t.id},[i("requerimientos-asignados-Item",{attrs:{req:t,index:s},nativeOn:{click:function(i){return e.abrirDetalleRequerimiento({reqId:t.id,listName:"requerimientos-asignados"})}}})],1)})],2)],1)},f=[],g=i("3f7d"),h=i("2fa3"),_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-item",{staticClass:"q-ma-sm shadow-2 rounded-borders-8 bg-white cursor-pointer card-row",class:{"card--default":!e.esArregloRapido,"card--qf":e.esArregloRapido,"card--paused":e.estaEnPausa}},[e.estaEnPausa?i("q-tooltip",[e._v("\n    Este requerimiento esta EN PAUSA\n  ")]):e._e(),e.yoDeboTestearla?i("q-tooltip",{attrs:{"content-class":"bg-red"}},[e._v("\n    USTED DEBE TESTEAR ESTE REQUERIMIENTO\n  ")]):e._e(),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("q-item-label",{attrs:{lines:"1"}},[i("span",{staticClass:"text-weight-medium"},[e._v(e._s(e.req.asunto))])]),i("q-item-label",{staticStyle:{"margin-bottom":"auto"},attrs:{caption:"",lines:"2"}},[e._v("\n        "+e._s(e.req.descripcion)+"\n      ")]),e.estaEnTesting&&!e.yoDeboTestearla?i("q-item-label",[i("span",{staticClass:"card__text-user"},[i("q-icon",{staticClass:"vertical-top q-mr-xs q-pl-xs",attrs:{name:"fas fas fa-flask"}}),e._v("\n          "+e._s(e.usuarioTesting)+"\n          "),i("q-tooltip",[e._v("\n            Usuario Tester:\n            "),i("strong",[e._v(e._s(e.usuarioTesting))])])],1)]):e._e()],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"text-left",class:{"col-6":!e.esArregloRapido,"col-12":e.esArregloRapido}},[i("q-badge",{class:{"nro-req--default":!e.esArregloRapido,"nro-req--qf":e.esArregloRapido}},[e._v("\n        #"+e._s(e.req.id)+"\n      ")]),e._v("\n       \n    ")],1)])],1)},b=[],v=i("3883"),C=v["a"],R=(i("74c4"),i("2877")),O=Object(R["a"])(C,_,b,!1,null,"5b425db3",null),x=O.exports,A=i("fcd5"),y={name:"DraggableList",components:{ListRequerimientos:A["a"],RequerimientosAsignadosItem:x,Container:g["Container"],Draggable:g["Draggable"]},props:{title:{type:String,default:""},groupName:{type:String,required:!0},requerimientosList:{type:Array,required:!0},listName:{type:String,required:!0},loadingList:{type:Boolean,default:!0}},data:function(){return{dropPlaceholderOptions:{className:"drop-group",animationDuration:"150",showOnTop:!0}}},computed:{listEmpty:function(){return 0===this.requerimientosList.length}},methods:u()({},Object(d["b"])({abrirDetalleRequerimiento:"requerimientos/abrirDetalleRequerimiento"}),{getPayload:function(e){return this.requerimientosList[e]},onDrop:function(e,t){var i=Object(h["a"])(this.requerimientosList,t),s={listName:e,listResult:i,dropResult:t};this.$store.dispatch("requerimientosAsignados/processUpdateList",s).catch(function(e){var t=e.message;Object(h["j"])({message:t})})}})},T=y,w=Object(R["a"])(T,q,f,!1,null,"d28bff04",null),D=w.exports,E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-dialog",{attrs:{persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:e.dialogConfirmOpen,callback:function(t){e.dialogConfirmOpen=t},expression:"dialogConfirmOpen"}},[i("q-card",{staticClass:"bg-accent text-white"},[i("q-bar",[i("q-btn",{attrs:{dense:"",flat:"",icon:"fas fa-exclamation-triangle"}}),i("q-space"),i("q-btn",{attrs:{dense:"",flat:"",icon:"close"},on:{click:e.cancelOperation}},[i("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[e._v("Cancelar")])],1)],1),i("q-card-section",[i("span",{staticClass:"text-h6"},[e._v("\n        Confirmación -\n        "),i("q-chip",{attrs:{dense:"",color:"accent-light","text-color":"white"}},[e._v("\n          Req #"+e._s(e.detalleRequerimientoId)+"\n        ")])],1)]),i("q-card-section",[i("requerimientos-asignados-actions",{ref:"actions",attrs:{dark:!0,"hide-save-button":"","hide-order-asignacion":"",color:"white","operation-type":e.operationType}})],1),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{label:"CANCELAR",flat:"",color:"red-7"},on:{click:e.cancelOperation}}),i("q-btn",{attrs:{label:"CONFIRMAR",color:"deep-purple-10"},on:{click:e.confirmOperation}})],1)],1)],1)},F=[],k=i("4fd3"),S={name:"RequerimientosAsignadosDialogConfirmOperation",components:{RequerimientosAsignadosActions:k["a"]},computed:u()({},Object(d["d"])("requerimientosAsignados",{dialogConfirmOpenState:function(e){return e.dialogConfirmOpen}}),{},Object(d["c"])("requerimientosAsignados",["operationType"]),{},Object(d["c"])("requerimientos",["detalleRequerimientoId"]),{dialogConfirmOpen:{get:function(){return this.dialogConfirmOpenState},set:function(e){this.$store.dispatch("requerimientosAsignados/setDialogConfirmOperationOpen",e)}}}),methods:{cancelOperation:function(){this.$store.dispatch("requerimientosAsignados/clearOperations"),this.dialogConfirmOpen=!1},confirmOperation:function(){this.$refs.actions.saveChanges()}}},j=S,I=Object(R["a"])(j,E,F,!1,null,"5df21aac",null),$=I.exports,L=i("cf9f"),N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"q-py-md"},[i("div",{staticClass:"q-mb-sm"},[i("q-input",{ref:"inputDescripcion",staticClass:"filter",class:{popupOpened:e.popupOpened},attrs:{dense:"",standout:"bg-white text-black",placeholder:"Buscar por Asunto, Descripcion..."},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.closeFilters(t)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"search"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{staticClass:"filter__icon cursor-pointer",attrs:{name:e.iconOpenFilter},on:{click:function(t){e.popupOpened=!e.popupOpened}}})]},proxy:!0}]),model:{value:e.__descripcion,callback:function(t){e.__descripcion="string"===typeof t?t.trim():t},expression:"__descripcion"}},[i("q-resize-observer",{on:{resize:e.onResize}})],1),i("q-menu",{attrs:{"no-parent-event":"","content-class":"q-menu-fix","content-style":{maxWidth:e.widthInputDescripcion+"px !important"},offset:[0,-4]},model:{value:e.popupOpened,callback:function(t){e.popupOpened=t},expression:"popupOpened"}},[i("div",{staticClass:"q-pa-md",style:{width:e.widthInputDescripcion+"px"}},[i("div",{staticClass:"row q-pt-sm q-col-gutter-xs"},[i("div",{staticClass:"col-xs-3 col-sm-3 col-md-2 col-lg-1 text-body2 q-pt-md"},[e._v("\n            Sistema\n          ")]),i("div",{staticClass:"col-xs-9 col-sm-9 col-md-10 col-lg-11"},[i("select-custom",{attrs:{options:e.sistemasUsuarioOptions,dense:"",label:"Sistema",color:"deep-purple-10","use-filter":!1,loading:0===e.sistemas.length},model:{value:e.__sistema,callback:function(t){e.__sistema=t},expression:"__sistema"}})],1),i("div",{staticClass:"col-xs-3 col-sm-3 col-md-2 col-lg-1 text-body2 q-pt-md"},[e._v("\n            Tipo de Requerimiento\n          ")]),i("div",{staticClass:"col-xs-9 col-sm-9 col-md-10 col-lg-11"},[i("select-custom",{attrs:{options:e.requerimientosTipos,dense:"",label:"Tipo de Requerimiento",color:"deep-purple-10","use-filter":!1,loading:0===e.requerimientosTipos.length},model:{value:e.__tipo,callback:function(t){e.__tipo=t},expression:"__tipo"}})],1)]),i("div",{staticClass:"row q-pt-md justify-end q-col-gutter-x-md"},[i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{color:"negative",flat:"",size:"md"},on:{click:e.clearFilters}},[e._v("\n              Limpiar Filtros\n            ")])],1),i("div",{staticClass:"col-auto"},[i("q-btn",{attrs:{color:"deep-purple-10",size:"md"},on:{click:e.closeFilters}},[e._v("\n              FILTRAR\n            ")])],1)])])])],1),i("div",{staticClass:"q-mt-sm"},[e.sistemaSetted||e.tipoRequerimientoSetted?i("span",[e._v("Filtros:")]):e._e(),e.sistemaSetted?i("span",{staticClass:"q-mx-xs"},[i("q-chip",{attrs:{removable:""},on:{remove:function(t){return e.removeFilter("sistema")}}},[i("q-avatar",{staticClass:"filter-label",attrs:{color:"red","text-color":"white"}},[e._v("\n          Sist:\n        ")]),e._v("\n        "+e._s(e.sistemaDescripcion)+"\n        "),i("q-tooltip",[e._v("Sistema")])],1)],1):e._e(),e.tipoRequerimientoSetted?i("span",{staticClass:"q-mx-xs"},[i("q-chip",{attrs:{removable:""},on:{remove:function(t){return e.removeFilter("requerimientoTipo")}}},[i("q-avatar",{staticClass:"filter-label",attrs:{color:"blue","text-color":"white"}},[e._v("\n          Tipo:\n        ")]),e._v("\n        "+e._s(e.tipoRequerimientoDescripcion)+"\n        "),i("q-tooltip",[e._v("Tipo de Requerimiento")])],1)],1):e._e()])])},P=[],z=i("b635"),U=z["a"],M=(i("0d76"),Object(R["a"])(U,N,P,!1,null,null,null)),B=M.exports,J={name:"RequerimientosAsigandos",components:{PageHeader:p["a"],DraggableList:D,DialogConfirmOperation:$,DialogDetalleRequerimiento:L["a"],RequerimientosAsignadosFiltros:B},mixins:[m["a"]],computed:u()({},Object(d["d"])("requerimientosAsignados",{loadingRequerimientos:function(e){return e.loadingRequerimientos}}),{},Object(d["c"])("requerimientosAsignados",["requerimientosFiltered"])),created:function(){var e=l()(o.a.mark(function e(){return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$store.dispatch("requerimientos/createRequerimiento"),this.$store.dispatch("requerimientosAsignados/inicializarRequerimientosAsignados");case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{aplicarFiltroRapidoTipoReq:function(e){var t=null;"Arreglo"===e?t={descripcion:"Arreglo rápido",id:1}:"Desarrollo"===e&&(t={descripcion:"Desarrollos / Modificaciones / Implementaciones",id:2}),this.$store.dispatch("requerimientosAsignados/setFilter",{filter:"requerimientoTipo",value:t})}}},H=J,Q=(i("84b1"),Object(R["a"])(H,s,n,!1,null,"49b8de59",null));t["default"]=Q.exports},e4fb:function(e,t,i){}}]);