(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["60867939"],{"1cce":function(e,t,i){"use strict";var s=i("e9e3"),n=i.n(s);n.a},"24de":function(e,t,i){"use strict";(function(e){var s=i("967e"),n=i.n(s),r=(i("96cf"),i("fa84")),o=i.n(r),a=i("b2cb"),c=i.n(a),l=i("2f62"),u=i("2fa3"),p=i("1011"),m=i("6cb3"),d=i("a66b"),q=i("cf9f"),f=i("d8ad");t["a"]={components:{PageHeader:p["a"],MisRequerimientosListado:m["a"],DialogDetalleRequerimiento:q["a"],MisRequerimientosMenuFiltros:d["a"]},data:function(){return{current:1,page:1,perPage:10,lastPage:0,filtros:{sistemaId:null,requerimientoTipo:null,descripcion:null},crudModalOpen:!1}},computed:c()({},Object(l["d"])("requerimientos",{loadingRequerimiento:function(e){return e.loadingRequerimiento},misRequerimientos:function(e){return e.misRequerimientos}})),watch:{current:function(){this.getListRequerimientos()},"$route.meta":function(e){var t=e.showCrudModal,i=void 0!==t&&t;this.crudModalOpen=i}},mounted:function(){var e=o()(n.a.mark(function e(){return n.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.getListRequerimientos(),e.next=3,this.$store.dispatch("requerimientos/createRequerimiento");case 3:f["a"].$on("load-list-requerimientos",this.getListRequerimientos);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),unmounted:function(){f["a"].$off("load-list-requerimientos",this.getListRequerimientos)},methods:{getListRequerimientos:function(){var t=o()(n.a.mark(function t(){var i,s,r;return n.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,i={seccion_id:null,sistema_id:e.get(this,"filtros.sistemaId.id",null),requerimiento_tipo:e.get(this,"filtros.requerimientoTipo.id",null),requerimiento_estado:null,fecha_desde:null,fecha_hasta:null,descripcion:this.filtros.descripcion,page:this.current,perPage:10},t.next=4,this.$store.dispatch("requerimientos/listRequerimientos",{filtros:i});case 4:s=t.sent,this.lastPage=s.last_page,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),r=t.t0.message||"Hubo un problema al cargar el listado de sus Requerimientos. Intente nuevamente m√°s tarde",Object(u["j"])({message:r});case 12:case"end":return t.stop()}},t,this,[[0,8]])}));function i(){return t.apply(this,arguments)}return i}()}}}).call(this,i("2ef0"))},52705:function(e,t,i){},"68ef":function(e,t,i){"use strict";(function(e){var s=i("b2cb"),n=i.n(s),r=i("d2a2"),o=i("2f62");t["a"]={name:"MisRequerimientosMenuFiltros",components:{SelectCustom:r["a"]},props:{sistemaId:{type:Object,default:null},seccionId:{type:Object,default:null},requerimientoTipo:{type:Object,default:null},descripcion:{type:String,default:null}},data:function(){return{input:"",widthInputDescripcion:0,popupOpened:!1}},computed:n()({},Object(o["d"])("requerimientos",{areas:function(e){return e.options.areas},sistemas:function(e){return e.options.sistemas},requerimientosTipos:function(e){return e.options.requerimientosTipos}}),{sistemaSetted:function(){return this.__sistema&&Boolean(this.__sistema.id)},tipoRequerimientoSetted:function(){return this.__tipo&&Boolean(this.__tipo.id)},__sistema:{get:function(){return this.sistemaId},set:function(e){this.$emit("update:sistemaId",e)}},__tipo:{get:function(){return this.requerimientoTipo},set:function(e){this.$emit("update:requerimientoTipo",e)}},__descripcion:{get:function(){return this.descripcion},set:function(e){this.$emit("update:descripcion",e)}},sistemaDescripcion:function(){return e.get(this,"__sistema.descripcion",null)},tipoRequerimientoDescripcion:function(){return e.get(this,"__tipo.descripcion",null)},iconOpenFilter:function(){return this.popupOpened?"arrow_drop_up":"arrow_drop_down"}}),mounted:function(){},methods:{onResize:function(e){this.widthInputDescripcion=e.width},filtrar:function(){this.popupOpened=!1,this.$emit("buscar")},removeFilter:function(e){"requerimientoTipo"==e&&(this.__tipo=null),"sistema"==e&&(this.__sistema=null),this.filtrar()}}}}).call(this,i("2ef0"))},"6cb3":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("list-container",{attrs:{loading:e.loading}},e._l(e.requerimientos,function(t){return i("mis-requerimientos-item",{key:"req_"+t.id,attrs:{req:t},nativeOn:{click:function(i){return e.abrirDetalleRequerimiento({reqId:t.id,listName:"mis-requerimientos"})}}})}),1)},n=[],r=i("b2cb"),o=i.n(r),a=function(e,t){var i=t._c;return i("div",{staticClass:"relative-position list-container"},[i("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[i("q-list",{directives:[{name:"show",rawName:"v-show",value:!t.props.loading,expression:"!props.loading"}],staticClass:"rounded-borders q-mb-md shadow-2",attrs:{bordered:"",separator:""}},[t._t("default")],2)],1),i("q-inner-loading",{attrs:{showing:t.props.loading}},[i("q-spinner-gears",{attrs:{size:"50px",color:"accent"}})],1)],1)},c=[],l={name:"ListContainer",props:{loading:{type:Boolean,required:!0}}},u=l,p=(i("1cce"),i("2877")),m=Object(p["a"])(u,a,c,!0,null,"38886d3d",null),d=m.exports,q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-item",{staticClass:"cursor-pointer",attrs:{active:e.esImportante,"active-class":"text-black"}},[i("q-item-section",{attrs:{avatar:""}},[i("q-badge",{attrs:{color:"grey"}},[e._v("#"+e._s(e.req.id))])],1),i("q-item-section",[i("q-item-label",{staticClass:"q-mt-sm text-left text-center",attrs:{lines:"2"}},[i("span",{staticClass:"text-weight-medium"},[e._v(e._s(e.req.usuario.nombre))])]),i("q-item-label",{attrs:{caption:""}},[e._v(e._s(e._f("formatearFecha")(e.req.fecha_alta)))])],1),i("q-item-section",{staticClass:"col-2"},[i("q-item-label",{staticClass:"q-mt-sm text-left text-center"},[i("span",{staticClass:"text-weight-medium"},[e._v(e._s(e.req.asunto))])])],1),i("q-item-section",[i("q-item-label",{attrs:{caption:"",lines:"3"}},[e._v(e._s(e.req.descripcion))])],1),i("q-item-section",[i("q-item-label",{staticClass:"text-center",attrs:{lines:"1"}},[i("span",{staticClass:"text-weight-medium"},[e._v(e._s(e.req.estado.descripcion))])])],1),i("q-item-section",{staticClass:"col-2 q-my-xs",attrs:{top:""}},[i("q-item-label",{staticClass:"q-mt-sm",attrs:{lines:"1"}},[i("span",{staticClass:"text-weight-medium"},[e._v("Area:")]),e._v("\n      "+e._s(e.req.area.descripcion)+"\n    ")]),i("q-item-label",{attrs:{lines:"1"}},[i("span",{staticClass:"text-weight-medium"},[e._v("Sistema:")]),e._v("\n      "+e._s(e.req.sistema.descripcion)+"\n    ")]),i("q-item-label",{attrs:{lines:"1"}},[i("span",{staticClass:"text-weight-medium"},[e._v("Tipo:")]),e._v("\n      "+e._s(e.req.tipo.descripcion)+"\n    ")])],1),i("q-item-section",{staticClass:"padding-none",attrs:{top:"",side:""}},[i("div",{staticClass:"text-grey-8 q-gutter-xs"},[i("q-btn",{attrs:{size:"12px",flat:"",dense:"",round:"",icon:"more_vert",to:{query:{ver:"editarRequerimiento",id:e.req.id}}}},[i("q-tooltip",[e._v("\n          Editar Requerimiento\n        ")])],1)],1)])],1)},f=[],_=i("bd4c"),v={name:"MisRequerimientosItem",filters:{formatearFecha:function(e){return _["b"].formatDate(e,"DD/MM/YYYY HH:mm")}},props:{req:{type:Object,required:!0}},computed:{esImportante:function(){return"SI"===this.req.importante}}},h=v,b=(i("c737"),Object(p["a"])(h,q,f,!1,null,null,null)),g=b.exports,x=i("2f62"),w=i("1050"),C={name:"MisRequerimientosListado",components:{"list-container":d,"mis-requerimientos-item":g},mixins:[w["a"]],props:{requerimientos:{type:Array,required:!0,default:function(){return[]}},loading:{type:Boolean,required:!0}},methods:o()({},Object(x["b"])({abrirDetalleRequerimiento:"requerimientos/abrirDetalleRequerimiento"}))},R=C,y=Object(p["a"])(R,s,n,!1,null,null,null);t["a"]=y.exports},"78b6":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{attrs:{padding:""}},[i("page-header",{attrs:{title:"Mis Requerimientos","no-margin":""}}),i("mis-requerimientos-menu-filtros",e._b({on:{buscar:e.getListRequerimientos}},"mis-requerimientos-menu-filtros",e.filtros,!1,!0)),i("mis-requerimientos-listado",{attrs:{requerimientos:e.misRequerimientos,loading:e.loadingRequerimiento}}),i("div",{staticClass:"q-pa-lg flex flex-center"},[i("q-pagination",{attrs:{color:"deep-purple-10",max:e.lastPage,"max-pages":8,"boundary-numbers":!0},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}})],1),i("dialog-detalle-requerimiento")],1)},n=[],r=i("24de"),o=r["a"],a=i("2877"),c=Object(a["a"])(o,s,n,!1,null,null,null);t["default"]=c.exports},a66b:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"q-py-md"},[i("q-resize-observer",{on:{resize:e.onResize}}),i("div",{staticClass:"q-mb-sm"},[i("q-input",{ref:"inputDescripcion",staticClass:"standout-custom",class:{popupOpened:e.popupOpened},attrs:{dense:"",standout:"bg-white text-black",placeholder:"Buscar"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filtrar(t)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"search"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{staticClass:"filter__icon cursor-pointer",attrs:{name:e.iconOpenFilter},on:{click:function(t){e.popupOpened=!e.popupOpened}}})]},proxy:!0}]),model:{value:e.__descripcion,callback:function(t){e.__descripcion="string"===typeof t?t.trim():t},expression:"__descripcion"}}),i("q-menu",{attrs:{offset:[0,-4],"content-class":"q-menu-fix","no-parent-event":""},model:{value:e.popupOpened,callback:function(t){e.popupOpened=t},expression:"popupOpened"}},[i("div",{staticClass:"q-pa-md",style:{width:e.widthInputDescripcion+"px"}},[i("div",{staticClass:"row q-pt-sm q-col-gutter-xs"},[i("div",{staticClass:"col-xs-3 col-sm-3 col-md-2 col-lg-1 text-body2 q-pt-md"},[e._v("\n            Sistema\n          ")]),i("div",{staticClass:"col-xs-9 col-sm-9 col-md-10 col-lg-11"},[i("select-custom",{attrs:{options:e.sistemas,dense:"",label:"Sistema",color:"accent","use-filter":!1,loading:0===e.sistemas.length},model:{value:e.__sistema,callback:function(t){e.__sistema=t},expression:"__sistema"}})],1),i("div",{staticClass:"col-xs-3 col-sm-3 col-md-2 col-lg-1 text-body2 q-pt-md"},[e._v("\n            Tipo de Requerimiento\n          ")]),i("div",{staticClass:"col-xs-9 col-sm-9 col-md-10 col-lg-11"},[i("select-custom",{attrs:{options:e.requerimientosTipos,dense:"",label:"Tipo de Requerimiento",color:"accent","use-filter":!1,loading:0===e.requerimientosTipos.length},model:{value:e.__tipo,callback:function(t){e.__tipo=t},expression:"__tipo"}})],1)]),i("div",{staticClass:"row q-pt-sm justify-end"},[i("q-btn",{attrs:{size:"md",color:"deep-purple-10"},nativeOn:{click:function(t){return e.filtrar(t)}}},[e._v("\n            Filtrar\n          ")])],1)])])],1),i("div",{staticClass:"q-mt-sm"},[e.sistemaSetted||e.tipoRequerimientoSetted?i("span",[e._v("Filtros:")]):e._e(),e.sistemaSetted?i("span",{staticClass:"q-mx-xs"},[i("q-chip",{attrs:{removable:""},on:{remove:function(t){return e.removeFilter("sistema")}}},[i("q-avatar",{staticClass:"filter-label",attrs:{color:"red","text-color":"white"}},[e._v("\n          Sist:\n        ")]),e._v("\n        "+e._s(e.sistemaDescripcion)+"\n        "),i("q-tooltip",[e._v("Sistema")])],1)],1):e._e(),e.tipoRequerimientoSetted?i("span",{staticClass:"q-mx-xs"},[i("q-chip",{attrs:{removable:""},on:{remove:function(t){return e.removeFilter("requerimientoTipo")}}},[i("q-avatar",{staticClass:"filter-label",attrs:{color:"blue","text-color":"white"}},[e._v("\n          Tipo:\n        ")]),e._v("\n        "+e._s(e.tipoRequerimientoDescripcion)+"\n        "),i("q-tooltip",[e._v("Tipo de Requerimiento")])],1)],1):e._e()])],1)},n=[],r=i("68ef"),o=r["a"],a=i("2877"),c=Object(a["a"])(o,s,n,!1,null,null,null);t["a"]=c.exports},c737:function(e,t,i){"use strict";var s=i("52705"),n=i.n(s);n.a},d8ad:function(e,t,i){"use strict";var s=i("2b0e"),n=new s["a"];t["a"]=n},e9e3:function(e,t,i){}}]);